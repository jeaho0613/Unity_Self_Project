# PROJECT : Colour

색을 이용한 게임을 제작합니다.  
기본 베이스는 슈팅게임을 바탕으로 색에 맞추어 컨트롤합니다.

## 프로젝트 디자인

- Object Pool 디자인
- Manager scripts 구성
- Dotween을 활용 (오브젝트 움직임 관리)
- .txt를 읽어 스테이지 구성
- player 색상 변경을 Sprite Shader으로 구성

## **기본 구상**

- Player는 특정키로 색을 변경할 수 있다.
- 장애물은 `3`개로 구성 (우선은)되어있고 각 색깔의 변화에 따라서 조작해야된다.
- 색은 5종류 (빨, 파, 초, 노, 분)이고 각 색의 특성이 있다.
  - MoveSpeed : 기체 속도
  - Shooting Time : 총알 발사 수
  - End Time : 총알의 속도
  - Power : 총알 데미지
  - **빨간색 총알**
    - 빨간색 종류의 색 충동을 무시하고 총알 속도,발사간격이 빠르다. 데미지가 낮음
      - 기체 속도 : 보통 (3)
      - 총알 발사 수 : 빠름 (0.05)
      - 총알 속도 : 빠름 (0.5)
      - 데미지 : 낮음 (5)
      - 크기 : 보통 (1,1,1)
  - **초록색 총알**
    - 빨간색 종류의 색 충동을 무시하고 총알 발사 대미지가 높다. 기체 속도가 낮음
      - 기체 속도 : 낮음 (0.7)
      - 총알 발사 수 : 보통 (0.1)
      - 총알 속도 : 보통 (2)
      - 데미지 : 보통 (10)
      - 크기 : 높음 (2,2,1)
  - **파란색 총알**
    - 빨간색 종류의 색 충동을 무시하고 기체 속도가 높다. 총알 속도가 낮음
      - 기체 속도 : 빠름 (7)
      - 총알 발사 수 : 낮음 (0.2)
      - 총알 속도 : 보통 (1)
      - 데미지 : 보통 (10)
      - 크기 : 보통 (1,1,1)
  - **노란색 총알**
    - 모든 종류의 색 충돌을 무시한다. 모든 스텟이 높다. (스킬)
      - 기체 속도 : 높음 (7)
      - 총알 발사 수 : 높음 (0.05)
      - 총알 속도 : 빠름 (0.5)
      - 데미지 : 높음 (20)
      - 크기 : 높음 (2,2,1)

## **Using Asset, package**

- DOTWEEN (트윈 에셋) // 무료
- Interface and Item Sounds (사운드 에셋) // 유료
- URP (파이프 라인) // 패키지
- Planets with Space Background in Flat Style (예정)

## **SoundManager**

- 총알 발사 시 : DM-CGS-34.wav
- 색 변경 시 : v1.0 item Purchase(5)
- player 사망 시
  - 기체 효과음 : DM-CGS-17
  - 배경 효과음 : You Lose (3).wav

## **화면 비율**

9:16 을 기본  

- 1440 x 2560
- 1080 x 1920

## **생성 규칙**

**`시간,타입,생성지점`**

- RedL(빨간색 큰 기체)
  - 0,1,2 point에서만 나올것
  - 체력이 많다.
  - 2개의 총알을 발사
- RedM (빨간색 세모 기체)
  - 3,4 point에서만 나올것
  - player 위치를 타켓으로 하지말고 특정 위치로만 이동
  - 보통의 스팩을 가진다.
  - 지나간 위치에 고정된 패턴으로 총알 생성
- RedS (빨간색 작은 기체)
  - 5,6 point에서만 나올것
  - player 위치를 타켓으로 한다.
  - 체력이 낮음 (약 1,2발에 파괴)
  - 총알 발사는 없지만 player기체에 다가오는 시간이 빠름

## **만들면서**

- **transfrom.Translate 와 Postion의 차이점**
  - `Translate`는 게임오브젝트를 `이동` 시키기 위함입니다. 옵션으로 월드,로컬을 지정할수 있습니다.
  - `Postion`은 게임오브젝트의 `절대좌표`를 나타냅니다. 순간적 이동을 위해 사용됩니다.

- **URP 설정 관해서**
  - 어쩌면 당연한 거지만 프로젝트를 만들때 `URP를 초기에 설정`을 해주어야된다. 중간에 URP를 설정하게 되면 설정전에 오브젝트, 이미지등 설정관련이 적용되지 않아서 파이프라인의 영향을 받지 않는다

- **Material 변경**
  - MainTex의 변경은 되지않는다...(아마도) 그래서 쉐이더 그래프를 만들어 Material을 적용시켰다.
  - public Material playerMaterial; // player 머테리얼을 가져오고
  - playerMaterial.SetTexture ("_SubTex" ,sprites[num]); // SetTexture("변수명", Texture)으로 변경

- **PNG 와 JPG**
  - PNG : 투명한 배경으로 저장, 파일 크기가 커짐
  - JPG : 투명한 배경은 하얀색 바탕으로 저장되고, 파일 크기가 작음

- **싱글톤 Instance?**
  - SoundManager를 싱글톤으로 구성하고 사용할 때 마다 Instance쓰기 불편
  - soundManager를 전역변수로 설정하고
  - public SoundManager soundManager = SoundManager.Instance 로 설정을 해도
  - 코드상에서는 오류가 생김... 나중에 분석 요망

- **스크립트, 오브젝트 비활성화**
  - 비활성화 한다고 내부에 있는 값들이 사라지는건 아님.
  - 생성주기를 이용해 로직을 구현할 때 스크립트의 내부 값을 초기화 해주는걸 고려해야함.
  - start, Awake 등이 포함. 활성화 될 때 최초 1번 실행이 되었다면 재실행 되지 않음

- **Rigidbody type**
  - **dynamic** : 딜폴트 타입으로 다른 body type과 모두 충돌하고 중력과 힘의 영향을 받습니다.
    - 위치나 회전값을 동적(코드)으로 변경하는 오브젝트에 사용하기엔 비효율 적입니다.
  - **Kinematic** : 중력과 힘의 영향을 받지 않아  동적(코드)으로 제어하는 오브젝트에 적합한 타입입니다.
    - dynamic 타입을 갖는 오브젝트와 충돌하고 그외 나머지 kinematic 과 static 타입과는 통과합니다.
  - **static** : 움직이지 않는 오브젝트에 적합한 타입입니다.

## **Time Line**

- `20-04-11`  
  - 기본 플레이어 이동
  - 게임 플레이 구상
  
- `20-04-12`
  - 플레이어 이동 제한
  - 버튼별 플레이어 색깔 변경
  - 플레이어 색깔별 총알 변경
  - 각 총알별 스텟 구성 필요

- `20-04-13`
  - 키 입력에 따른 플레이어 색 변경
  - 움직임 애니메이션 적용
  - 색 RGBY 순으로 변경
  - 최초 게임 시작시 Red를 기본값으로 초기화

- `20-04-14`
  - **`오브젝트 풀링`**
    - 총알 구현 완료
  - 총알 색깔 별 밸런스 조정

- `20-04-15`
  - Ranbom Bar 생성

- `20-04-16`
  - 적 비행물 설정
  - text.file로 적 기체 생성 조작
  - EnemySpanwer 설정

- `20-04-17`
  - 적 기체 생성 코루틴 완성하기
  - 화면 밖 (3,4,5,6)생성 기체 설정
  - 적 기체 생성
  - 기체 생성 시 총알 생성
  - 적 기체 타격시 애니메이션 설정
  - 총알 설정
    - playerBullet : PBullet tag로 관리
    - EnemyBullet : EBullet tag로 관리
  - 적 기체 shooting delay에 따른 총알 발사 구현

- `20-04-19`
  - 적 기체 움직임 설정
    - player의 위치가 아닌 특정 위치로 변경
    - 총알발사와 거리를 두기 위함
  - 기체, 플레이어 사망효과
  - **`생성 규칙 설정`**
  - 플레이어 사망, 리스폰중일 때 동작 변환
  - **`Physics 2D : Layer Collsion Matrix 설정`**
    - 각 오브젝트별 Layer 설정
    - 충돌별 Matrix설정

- `20-04-19`
  - 적 기체와 적 총알의 피격 판정 설정 요망
  - 필살기 구현 로직 요망
  - UI 설정 요망
